/* 
 * File:   vm.h
 * Author: Jacques Deschênes
 *
 * Created on 31 mai 2013, 16:40
 * rev: 2017-08-01
 */

#ifndef OPCODES_H
#define	OPCODES_H

#include <stdint.h>

// op codes
enum OP_CODES{
 IBYE,  // 0
 ILIT,
 ICLIT,
 IBRA , 
 IQBRA ,
 ISTORE , // 5
 IFETCH , 
 ICSTORE ,
 ICFETCH ,
 IRFETCH ,
 ITOR   ,  // 10
 IRFROM , 
 IDROP ,  
 IDUP , 
 ISWAP ,
 IOVER , // 15
 IPICK ,
 INEG,
 IPLUS ,
 ISUB  ,
 ISTAR  , // 20
 IUSTAR ,
 IMSTAR ,
 IUMSTAR ,
 ISLASH , 
 IUSLASH , // 25
 IMOD , 
 ILTZ , 
 IZEQUAL ,
 IAND , 
 IOR  ,  // 30
 IXOR  , 
 INOT  , 
 ITICKS ,
 IDELAY ,
 IQDUP  , // 35
 IPLUS1 ,
 IMINUS1 ,
 IPLUSSTR ,
 I2STAR , 
 I2SLASH, // 40
 IDDROP,
 IROT  ,
 IDDUP ,
 IMIN ,
 IMAX , // 45
 IABS ,
 ILSHIFT,
 IRSHIFT,
 IDIVMOD,
 IQBRAZ, // 50
 IDCNT,
 IRCNT,
 IEQUAL,
 INEQUAL,
 ILESS,  // 55
 IGREATER ,
 ILTEQ , 
 IGTEQ , 
 IFORSAVE, 
 IFORREST , // 60
 IFOR, 
 IFORTEST ,
 IFORNEXT,
 ISINE , 
 ICOS ,  // 65
 ITAN , 
 IATAN ,
 IACOS ,
 IASIN ,
 IRANDOMIZE, // 70
 IRND , 
 ITRUNC ,
 INUM , 
 IKEY , 
 IQRX ,  // 75
 IEMIT ,
 IPSTR ,
 ICR , 
 IDOT,
 ILITS, //80
 ITYPE,
 ISPACE,
 ITONE,
 ITUNE,
 ICLS, // 85
 IUBOUND,
 ILCSTORE,
 ILCFETCH,
 ILCADR,
 IFRAME, // 90
 ICALL,
 ILEAVE,
 ILCSPACE,
 ITRACE,
 ISTRADR, // 95
 ILEN,
 IREADLN,
 I2INT,
 IALLOC,  
 ISTRALLOC, // 100
 ISTRFREE,
 ISTRCPY,
 
 ISAVESCR,
 IRESTSCR,
 ISRWRITE,
 ISRREAD,
 ISRCLEAR,
 ISRSAVE,
 ISRLOAD,
 IREMSPR,
 ISPRITE,
 IELLIPSE,
 ICIRCLE,
 IRECT,
 IBOX,
 ILINE,
 ISCRLLT,
 ISCRLRT,
 ISCRLDN,
 ISCRLUP,
 IXORPIXEL,
 ISETPIXEL,
 IGETPIXEL,
 IMDIV,
 ILOCATE,
 IBACK_COLOR,
 ITIMEOUT,
 ISETTMR,
 IBTEST,
 IFONT_COLOR,
 ICURCOL,
 ICURLINE,
 IVIDEOCTRL,
  
 INOP
};

#define LASTOP INOP


#define TOK_COUNT (INOP)




#define CELL_SIZE (4)

#define DSTACK_SIZE (32*CELL_SIZE)
#define RSTACK_SIZE (32*CELL_SIZE)


extern int StackVM(const uint8_t* prog_space);


#endif	/* OPCODES_H */

