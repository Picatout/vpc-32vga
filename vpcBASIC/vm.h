/* 
 * File:   vm.h
 * Author: Jacques Deschênes
 *
 * Created on 31 mai 2013, 16:40
 * rev: 2017-08-01
 */

#ifndef OPCODES_H
#define	OPCODES_H

#include <stdint.h>

// op codes
enum OP_CODES{
 IBYE,  
 ILIT,
 IWLIT,
 ICLIT,
 IDOCOL , 
 IEXIT ,  
 IBRA , 
 IQBRA ,
 IEXEC ,
 ISTORE ,
 IFETCH , 
 ICSTORE ,
 ICFETCH ,
 IRFETCH ,
 ITOR   , 
 IRFROM , 
 IDROP ,  
 IDUP , 
 ISWAP ,
 IOVER ,
 IPICK ,  
 IPLUS ,
 ISUB  ,
 ISTAR  ,
 IUSTAR ,
 IMSTAR ,
 IUMSTAR ,
 ISLASH , 
 IUSLASH ,
 IMOD , 
 IUMSMOD ,
 IMSMOD , 
 ILTZ , 
 IZEQUAL ,
 IAND , 
 IOR  , 
 IXOR  , 
 INOT  , 
 ITICKS ,
 IDELAY ,
 IQDUP  ,
 IPLUS1 ,
 IMINUS1 ,
 IPLUSSTR ,
 I2STAR , 
 I2SLASH,
 IDDROP,
 IROT  ,
 IDDUP ,
 IMIN ,
 IMAX ,
 IABS ,
 ILSHIFT,
 IRSHIFT,
 IDIVMOD,
 IQBRAZ,
 IDCNT,
 IRCNT,
 IEQUAL,
 INEQUAL,
 ILESS,
 IGREATER ,
 ILTEQ , 
 IGTEQ , 
 IDO , 
 IUNLOOP ,
 IIFETCH  ,
 IJFETCH ,
 ILOOP , 
 IPLOOP ,
 ISINE , 
 ICOS , 
 ITAN , 
 IATAN ,
 IACOS ,
 IASIN ,
 IRND , 
 ITRUNC ,
 INUM , 
 IKEY , 
 IQRX , 
 IEMIT ,
 IDOTQ ,
 ICR , 
 IDOT,
 ILITS,
 ITYPE,
 ISPACE,
 ITONE,
 ITUNE,
 
 ICALL,
 ITRACE,
 IFRAME,
 ILCVARSPACE,
 IINT,
 ISTRCPY,
 IALLOC,
 IACCEPT,
 ILEN,
 ILCSTORE,
 ILCFETCH,
 ISAVESCR,
 IRESTSCR,
 ISRWRITE,
 ISRREAD,
 ISRCLEAR,
 ISRSAVE,
 ISRLOAD,
 IRESTLOOP,
 INEXT,
 ILCADR,
 ILOOPTEST,
 ISAVESTEP,
 ISAVELIMIT,
 ISAVELOOP,
 IREMSPR,
 ISPRITE,
 IELLIPSE,
 ICIRCLE,
 IRECT,
 IBOX,
 ILINE,
 ISCRLLT,
 ISCRLRT,
 ISCRLDN,
 ISCRLUP,
 IXORPIXEL,
 ISETPIXEL,
 IGETPIXEL,
 IMDIV,
 IRANDOMIZE,
 ILEAVE,
 ILOCATE,
 ICLS,
 IBACK_COLOR,
 IJSTICK,
 INOISE,
 ITIMEOUT,
 ISETTMR,
 IIDLE,
 IBTEST,
 IFONT_COLOR,
 ICURCOL,
 ICURLINE,
 IVIDEOCTRL,
 IUBOUND,
  
 INOP
};

#define LASTOP INOP


#define TOK_COUNT (INOP)




#define CELL_SIZE (4)

#define DSTACK_SIZE (32*CELL_SIZE)
#define RSTACK_SIZE (32*CELL_SIZE)


extern int StackVM(const uint8_t* prog_space);


#endif	/* OPCODES_H */

